{"ast":null,"code":"var _jsxFileName = \"/Users/mackyandow/personal-projects/allmoxy/client/src/context.js/itemProvider.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ItemProviderContext = /*#__PURE__*/React.createContext();\nexport const ItemProvider = props => {\n  _s();\n\n  //  ----------- State ------------------------------------------\n  const [itemState, setItemState] = useState([]); //  ----------- Functions --------------------------------------\n\n  function getAllItems() {\n    axios.get(\"/items\").then(res => {\n      // console.log(res);\n      setItemState(prevState => ({ ...prevState,\n        itemsState: res.data\n      }));\n    }).catch(err => console.log(err.response.data.errMsg));\n  }\n\n  console.log(\"is\", itemState);\n\n  function newItem(newItem) {\n    axios.post(\"/items\", newItem).then(res => {\n      setItemState(prevState => ({ ...prevState,\n        itemsState: [...prevState.itemsState, res.data]\n      })); // getUserPosts()\n    }).catch(err => console.log(err.response.data.errMsg));\n  }\n\n  function deleteItem(_id) {\n    axios.delete(`/item/${_id}`).then(res => setItemState(prevState => ({ ...prevState,\n      items: prevState.items.filter(item => item._id !== _id)\n    }))).catch(err => console.log(err.response.data.errMsg));\n  }\n\n  function editItem(inputs, _id) {\n    axios.put(`/item/${_id}`, inputs).then(res => setItemState(prevState => ({ ...prevState,\n      items: prevState.items.filter(item => item._id !== _id)\n    }))).catch(err => console.log(err.response.data.errMsg));\n  }\n\n  return /*#__PURE__*/_jsxDEV(ItemProviderContext.Provider, {\n    value: { ...itemState,\n      getAllItems,\n      newItem,\n      deleteItem,\n      editItem\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ItemProvider, \"x3jQ+Pi0USKB5oVqyXoIkDsqfs4=\");\n\n_c = ItemProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"ItemProvider\");","map":{"version":3,"sources":["/Users/mackyandow/personal-projects/allmoxy/client/src/context.js/itemProvider.js"],"names":["React","useState","axios","ItemProviderContext","createContext","ItemProvider","props","itemState","setItemState","getAllItems","get","then","res","prevState","itemsState","data","catch","err","console","log","response","errMsg","newItem","post","deleteItem","_id","delete","items","filter","item","editItem","inputs","put","children"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\n\nexport const ItemProviderContext = React.createContext();\n\nexport const ItemProvider = (props) => {\n\n  //  ----------- State ------------------------------------------\n\n  const [itemState, setItemState] = useState([]);\n\n  //  ----------- Functions --------------------------------------\n\n  function getAllItems() {\n    axios\n      .get(\"/items\")\n      .then((res) => {\n        // console.log(res);\n        setItemState((prevState) => ({\n          ...prevState,\n          itemsState: res.data,\n        }));\n      })\n      .catch((err) => console.log(err.response.data.errMsg));\n    }\n    console.log(\"is\", itemState)\n\n  function newItem(newItem) {\n    axios\n      .post(\"/items\", newItem)\n      .then((res) => {\n        setItemState((prevState) => ({\n          ...prevState,\n          itemsState: [...prevState.itemsState, res.data],\n        }));\n        // getUserPosts()\n      })\n      .catch((err) => console.log(err.response.data.errMsg));\n  }\n\n  function deleteItem(_id) {\n    axios\n      .delete(`/item/${_id}`)\n      .then((res) =>\n        setItemState((prevState) => ({\n          ...prevState,\n          items: prevState.items.filter((item) => item._id !== _id),\n        }))\n      )\n      .catch((err) => console.log(err.response.data.errMsg));\n  }\n\n  function editItem(inputs, _id) {\n    axios\n      .put(`/item/${_id}`, inputs)\n      .then((res) =>\n        setItemState((prevState) => ({\n          ...prevState,\n          items: prevState.items.filter((item) => item._id !== _id),\n        }))\n      )\n      .catch((err) => console.log(err.response.data.errMsg));\n  }\n\n  return (\n    <ItemProviderContext.Provider\n      value={{\n        ...itemState,\n        getAllItems,\n        newItem,\n        deleteItem,\n        editItem,\n      }}\n    >\n      {props.children}\n    </ItemProviderContext.Provider>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}